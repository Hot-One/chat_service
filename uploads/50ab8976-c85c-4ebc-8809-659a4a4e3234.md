# API Endpoints Documentation - Inspector Dashboard

Данный документ содержит полную карту API эндпоинтов по всем модулям Inspector Dashboard проекта.

## Общая архитектура

Проект построен по модульной архитектуре, где каждый модуль содержит:
- **pages/** - Vue компоненты страниц
- **service/** - API сервисы для взаимодействия с backend
- **router/** - роуты модуля

### Стандартные паттерны страниц:
- **Page.vue** - основная страница со списком и поиском
- **Create.vue** - создание новой записи
- **Edit.vue** - редактирование существующей записи  
- **View.vue** - просмотр деталей записи

---

## 1. Auth Module (Аутентификация)

### Страницы:
- SignIn.vue - страница входа
- SingUp.vue - страница регистрации
- Profile.vue - профиль пользователя
- OneId.vue - авторизация через OneID
- OneIdCheck.vue - проверка OneID

### API Endpoints:
- `POST /auth/sign-in` - вход в систему
- `POST /auth/sign-up` - регистрация
- `POST /auth/sign-out` - выход из системы
- `POST /auth/me?pinfl=TRUE` - получение данных текущего пользователя

---

## 2. Log Module (Логирование)

### Страницы:
- **Page.vue** использует:
  - `/log/page` - получение списка логов (пагинация)
  - `/log/search` - поиск по логам
  - `/log/tables` - получение списка таблиц

- **View.vue** использует:
  - `/log/{id}/{query}` - получение конкретного лога по ID

### API Endpoints:
- `GET /log/page?{query}` - получение страницы логов
- `GET /log/search?{query}` - поиск логов  
- `GET /log/tables?{query}` - получение списка таблиц
- `GET /log/{id}/{query}` - получение лога по ID

---

## 3. Appeal Module (Обращения)

### Страницы:
- **Page.vue** использует:
  - `/appeal/page` - получение списка обращений
  - `/appeal/search` - поиск обращений

- **Create.vue** использует:
  - `/appeal/{source}/create` - создание обращения

- **Edit.vue** использует:
  - `/appeal/{id}` - получение и обновление обращения

- **View.vue** использует:
  - `/appeal/{id}` - просмотр обращения

### API Endpoints:
- `GET /appeal/page?language_id={id}&{query}` - получение страницы обращений
- `GET /appeal/search?{query}` - поиск обращений
- `POST /appeal/{source}/create` - создание обращения (source: CALL_CENTER|WEB|TELEGRAM)
- `GET /appeal/{id}?language_id={id}` - получение обращения по ID
- `PATCH /appeal/{id}` - обновление обращения

---

## 4. ApplicationSetting Module

### 4.1 Industry (Отрасли)

### Страницы:
- **Page.vue** использует:
  - `/industry/page` - список отраслей
  - `/industry/search` - поиск отраслей

- **Create.vue** использует:
  - `/industry/create` - создание отрасли

- **Edit.vue** использует:
  - `/industry/{id}` - получение и обновление
  - `/industry/{id}/translations` - переводы

- **View.vue** использует:
  - `/industry/{id}` - просмотр отрасли
  - `/industry/{id}/translations` - переводы

### API Endpoints:
- `GET /industry/page?{query}` - получение страницы отраслей
- `GET /industry/search?{query}` - поиск отраслей
- `POST /industry/create` - создание отрасли
- `GET /industry/{id}?language_id={id}` - получение отрасли по ID
- `PATCH /industry/{id}` - обновление отрасли
- `DELETE /industry/{id}` - удаление отрасли
- `GET /industry/{id}/translations` - получение переводов
- `POST /industry/{id}/translations` - создание/обновление переводов

### 4.2 Complaint (Жалобы)

Аналогичная структура с заменой `/industry/` на `/complaint/`

### API Endpoints:
- `GET /complaint/page?{query}` 
- `GET /complaint/search?{query}`
- `POST /complaint/create`
- `GET /complaint/{id}?language_id={id}`
- `PATCH /complaint/{id}`
- `DELETE /complaint/{id}`
- `GET /complaint/{id}/translations`
- `POST /complaint/{id}/translations`

---

## 5. ContentService Module

### 5.1 Menu (Меню)

### Страницы и API Endpoints:
- `GET /menu/page?{query}` - Page.vue
- `GET /menu/search?{query}` - Page.vue (поиск)
- `POST /menu/create` - Create.vue
- `GET /menu/{id}?language_id={id}` - Edit.vue, View.vue
- `PATCH /menu/{id}` - Edit.vue
- `DELETE /menu/{id}` - Page.vue
- `GET /menu/{id}/translations` - Edit.vue, View.vue
- `POST /menu/{id}/translations` - Edit.vue

### 5.2 FAQ (Часто задаваемые вопросы)

### API Endpoints:
- `GET /faq/page?{query}`
- `GET /faq/search?{query}` 
- `POST /faq/create`
- `GET /faq/{id}?language_id={id}`
- `PATCH /faq/{id}`
- `DELETE /faq/{id}`
- `GET /faq/{id}/translations`
- `POST /faq/{id}/translations`

### 5.3 Partner (Партнеры)

### API Endpoints:
- `GET /partner/page?{query}`
- `GET /partner/search?{query}`
- `POST /partner/create`
- `GET /partner/{id}?language_id={id}`
- `PATCH /partner/{id}`
- `DELETE /partner/{id}`
- `GET /partner/{id}/translations`
- `POST /partner/{id}/translations`

### 5.4 ApplicationTypes (Типы заявлений)

### API Endpoints:
- `GET /application-type/page?{query}`
- `GET /application-type/search?{query}`
- `POST /application-type/create`
- `GET /application-type/{id}?language_id={id}`
- `PATCH /application-type/{id}`
- `DELETE /application-type/{id}`
- `GET /application-type/{id}/translations`
- `POST /application-type/{id}/translations`

### 5.5 PublicOffer (Публичная оферта)

### API Endpoints:
- `GET /public-offer/page?{query}`
- `GET /public-offer/search?{query}`
- `POST /public-offer/create`
- `GET /public-offer/{id}?language_id={id}`
- `PATCH /public-offer/{id}`
- `DELETE /public-offer/{id}`
- `GET /public-offer/{id}/translations`
- `POST /public-offer/{id}/translations`

### 5.6 Socials (Социальные сети)

### API Endpoints:
- `GET /social/page?{query}`
- `GET /social/search?{query}`
- `POST /social/create`
- `GET /social/{id}?language_id={id}`
- `PATCH /social/{id}`
- `DELETE /social/{id}`
- `GET /social/{id}/translations`
- `POST /social/{id}/translations`

### 5.7 StaticPage (Статические страницы)

### API Endpoints:
- `GET /static-page/page?{query}`
- `GET /static-page/search?{query}`
- `POST /static-page/create`
- `GET /static-page/{id}?language_id={id}`
- `PATCH /static-page/{id}`
- `DELETE /static-page/{id}`
- `GET /static-page/{id}/translations`
- `POST /static-page/{id}/translations`

---

## 6. DecreeService Module

### 6.1 Decree (Постановления)

### Страницы и API Endpoints:
- **Page.vue**: `GET /decree/page?{query}`, `GET /decree/search?{query}`
- **Create.vue**: `POST /decree/create`
- **Edit.vue**: `GET /decree/{id}`, `PATCH /decree/{id}`, `GET /decree/{id}/translations`
- **View.vue**: `GET /decree/{id}`, `GET /decree/{id}/translations`

### API Endpoints:
- `GET /decree/page?{query}` - получение страницы постановлений
- `GET /decree/search?{query}` - поиск постановлений
- `POST /decree/create` - создание постановления
- `GET /decree/{id}?language_id={id}` - получение постановления по ID
- `PATCH /decree/{id}` - обновление постановления
- `DELETE /decree/{id}` - удаление постановления
- `GET /decree/{id}/translations` - получение переводов
- `POST /decree/{id}/translations` - создание/обновление переводов

### 6.2 Article (Статьи)

### API Endpoints:
- `GET /article/page?{query}`
- `GET /article/search?{query}`
- `POST /article/create`
- `GET /article/{id}?language_id={id}`
- `PATCH /article/{id}`
- `DELETE /article/{id}`
- `GET /article/{id}/translations`
- `POST /article/{id}/translations`

---

## 7. InspectorService Module

### 7.1 Inspector (Инспекторы)

### Страницы и API Endpoints:
- **Page.vue**: `GET /inspector/page?{query}`, `GET /inspector/search?{query}`
- **Create.vue**: `POST /inspector/create`
- **Edit.vue**: `GET /inspector/{id}`, `PATCH /inspector/{id}`
- **View.vue**: `GET /inspector/{id}`

### API Endpoints:
- `GET /inspector/page?{query}` - получение страницы инспекторов
- `GET /inspector/search?{query}` - поиск инспекторов
- `POST /inspector/create` - создание инспектора
- `GET /inspector/{id}` - получение инспектора по ID
- `PATCH /inspector/{id}` - обновление инспектора
- `DELETE /inspector/{id}` - удаление инспектора

### 7.2 Contact (Контакты)

### Страницы и API Endpoints:
- **Page.vue**: `GET /contact/page?{query}`, `GET /contact/search?{query}`

### API Endpoints:
- `GET /contact/page?{query}` - получение страницы контактов
- `GET /contact/search?{query}` - поиск контактов
- `POST /contact/create` - создание контакта
- `GET /contact/{id}` - получение контакта по ID
- `PATCH /contact/{id}` - обновление контакта
- `DELETE /contact/{id}` - удаление контакта

### 7.3 Position (Должности)

### API Endpoints:
- `GET /position/page?{query}`
- `GET /position/search?{query}`
- `POST /position/create`
- `GET /position/{id}?language_id={id}`
- `PATCH /position/{id}`
- `DELETE /position/{id}`
- `GET /position/{id}/translations`
- `POST /position/{id}/translations`

### 7.4 AppealInspector (Обращения инспекторов)

### Страницы и API Endpoints:
- **Page.vue**: `GET /appeal-inspector/page?{query}`, `GET /appeal-inspector/search?{query}`
- **Edit.vue**: `GET /appeal-inspector/{id}`, `PATCH /appeal-inspector/{id}`
- **View.vue**: `GET /appeal-inspector/{id}`

### API Endpoints:
- `GET /appeal-inspector/page?{query}` - получение страницы обращений инспекторов
- `GET /appeal-inspector/search?{query}` - поиск обращений
- `GET /appeal-inspector/{id}` - получение обращения по ID
- `PATCH /appeal-inspector/{id}` - обновление обращения

---

## 8. OrganizationService Module

### 8.1 Organization (Организации)

### Страницы и API Endpoints:
- **Page.vue**: `GET /organization/page?{query}`, `GET /organization/search?{query}`
- **Create.vue**: `POST /organization/create`, `GET /organization/search/parent?{query}`
- **Edit.vue**: `GET /organization/{id}`, `PATCH /organization/{id}`, `GET /organization/{id}/translations`
- **View.vue**: `GET /organization/{id}`, `GET /organization/{id}/translations`
- **Children.vue**: `GET /organization/{id}/children?{query}`

### API Endpoints:
- `GET /organization/page?{query}` - получение страницы организаций
- `GET /organization/search?{query}` - поиск организаций
- `GET /organization/search/parent?{query}` - поиск родительских организаций
- `POST /organization/create` - создание организации
- `GET /organization/{id}?language_id={id}` - получение организации по ID
- `PATCH /organization/{id}` - обновление организации
- `DELETE /organization/{id}` - удаление организации
- `GET /organization/{id}/translations` - получение переводов
- `POST /organization/{id}/translations` - создание/обновление переводов
- `GET /organization/{id}/children?{query}` - получение дочерних организаций

### 8.2 Address (Адреса)

### Страницы и API Endpoints:
- **Page.vue**: `GET /address/page?{query}`, `GET /address/search?{query}`

### API Endpoints:
- `GET /address/page?{query}` - получение страницы адресов
- `GET /address/search?{query}` - поиск адресов

### 8.3 Role (Роли)

### Страницы и API Endpoints:
- **Page.vue**: `GET /role/page?{query}`, `GET /role/search?{query}`
- **Create.vue**: `POST /role/create`
- **Edit.vue**: `GET /role/{id}`, `PATCH /role/{id}`

### API Endpoints:
- `GET /role/page?{query}` - получение страницы ролей
- `GET /role/search?{query}` - поиск ролей
- `POST /role/create` - создание роли
- `GET /role/{id}` - получение роли по ID
- `PATCH /role/{id}` - обновление роли
- `DELETE /role/{id}` - удаление роли

### 8.4 Invitation (Приглашения)

### Страницы и API Endpoints:
- **Page.vue**: `GET /invitation/page?{query}`, `GET /invitation/search?{query}`
- **Create.vue**: `POST /invitation/create`
- **View.vue**: `GET /invitation/{id}`

### API Endpoints:
- `GET /invitation/page?{query}` - получение страницы приглашений
- `GET /invitation/search?{query}` - поиск приглашений
- `POST /invitation/create` - создание приглашения
- `GET /invitation/{id}` - получение приглашения по ID
- `PATCH /invitation/{id}` - обновление приглашения
- `DELETE /invitation/{id}` - удаление приглашения

### 8.5 Template (Шаблоны)

### API Endpoints:
- `GET /template/page?{query}`
- `GET /template/search?{query}`
- `POST /template/create`
- `GET /template/{id}?language_id={id}`
- `PATCH /template/{id}`
- `DELETE /template/{id}`
- `GET /template/{id}/translations`
- `POST /template/{id}/translations`

---

## 9. Language Module (Языки)

### Страницы и API Endpoints:
- **Page.vue**: `GET /language/page?{query}`, `GET /language/search?{query}`
- **Create.vue**: `POST /language/create`
- **Edit.vue**: `GET /language/{id}`, `PATCH /language/{id}`

### API Endpoints:
- `GET /language/page?{query}` - получение страницы языков
- `GET /language/search?{query}` - поиск языков
- `POST /language/create` - создание языка
- `GET /language/{id}` - получение языка по ID
- `PATCH /language/{id}` - обновление языка
- `DELETE /language/{id}` - удаление языка

---

## 10. User Module (Пользователи)

### Страницы и API Endpoints:
- **Page.vue**: `GET /user/page?{query}`, `GET /user/search?{query}`
- **View.vue**: `GET /user/{id}`

### API Endpoints:
- `GET /user/page?{query}` - получение страницы пользователей
- `GET /user/search?{query}` - поиск пользователей
- `GET /user/{id}` - получение пользователя по ID

---

## 11. Media Module (Медиа файлы)

### Страницы и API Endpoints:
- **Page.vue**: `GET /media/page?{query}`, `GET /media/search?{query}`
- **AddMedia.vue**: `POST /media/upload`
- **EditMedia.vue**: `GET /media/{id}`, `PATCH /media/{id}`

### API Endpoints:
- `GET /media/page?{query}` - получение страницы медиа файлов
- `GET /media/search?{query}` - поиск медиа файлов
- `POST /media/upload` - загрузка медиа файла
- `GET /media/{id}` - получение медиа файла по ID
- `PATCH /media/{id}` - обновление медиа файла
- `DELETE /media/{id}` - удаление медиа файла

---

## 12. TranslatedContent Module (Переводы контента)

### Страницы и API Endpoints:
- **Page.vue**: `GET /translated-content/page?{query}`, `GET /translated-content/search?{query}`

### API Endpoints:
- `GET /translated-content/page?{query}` - получение страницы переводов
- `GET /translated-content/search?{query}` - поиск переводов
- `POST /translated-content/create` - создание перевода
- `GET /translated-content/{id}` - получение перевода по ID
- `PATCH /translated-content/{id}` - обновление перевода
- `DELETE /translated-content/{id}` - удаление перевода

---

## 13. Integrations Module (Интеграции)

### API Endpoints:
- `GET /integration/page?{query}` - получение страницы интеграций
- `GET /integration/search?{query}` - поиск интеграций
- `POST /integration/sync` - синхронизация данных
- `GET /integration/status` - статус интеграций

---

## Общие паттерны эндпоинтов

### Стандартные CRUD операции:
- `GET /{entity}/page?{query}` - получение страницы с пагинацией
- `GET /{entity}/search?{query}` - поиск по сущности
- `POST /{entity}/create` - создание новой записи
- `GET /{entity}/{id}?language_id={id}` - получение по ID
- `PATCH /{entity}/{id}` - обновление записи
- `DELETE /{entity}/{id}` - удаление записи

### Переводы (для мультиязычных сущностей):
- `GET /{entity}/{id}/translations` - получение переводов
- `POST /{entity}/{id}/translations` - создание/обновление переводов

### Специальные эндпоинты:
- `GET /{entity}/search/parent?{query}` - поиск родительских элементов (для иерархических структур)
- `GET /{entity}/{id}/children?{query}` - получение дочерних элементов
- `POST /{entity}/{id}/action` - выполнение специфических действий

### Параметры запросов:
- `page` - номер страницы
- `limit` - количество записей на странице
- `language_id` - ID языка для мультиязычного контента
- `query` - общий параметр для фильтрации и поиска

---

## Типичное использование по страницам:

### Page.vue (Список):
- Загрузка данных: `GET /{entity}/page`
- Поиск: `GET /{entity}/search`
- Удаление: `DELETE /{entity}/{id}`

### Create.vue (Создание):
- Создание: `POST /{entity}/create`
- Поиск родительских элементов: `GET /{entity}/search/parent`

### Edit.vue (Редактирование):
- Загрузка: `GET /{entity}/{id}`
- Обновление: `PATCH /{entity}/{id}`
- Переводы: `GET/POST /{entity}/{id}/translations`

### View.vue (Просмотр):
- Загрузка: `GET /{entity}/{id}`
- Переводы: `GET /{entity}/{id}/translations`
- Дочерние элементы: `GET /{entity}/{id}/children`

Все эндпоинты используют стандартные HTTP методы и следуют RESTful соглашениям. Для мультиязычных сущностей добавляется параметр `language_id`, а для переводов - специальные эндпоинты `/translations`.